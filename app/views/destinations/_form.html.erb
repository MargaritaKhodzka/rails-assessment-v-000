<%= render 'layouts/form_messages', object: destination %>
<%= form_for destination do |f| %>
  <%= f.hidden_field :user_id %>

  <div class="form-group">
   <%= f.label :name %>
   <%= f.text_field :name, class: "form-control" %>
  </div>

  <div class="form-group">
   <%= f.label :description %>
   <%= f.text_area :description, class: "form-control" %>
  </div>

  <div class="form-group">
   <%= f.label :coutry %>
   <%= f.text_field :country, class: "form-control" %>
  </div>

  <div class="form-group">
   <%= f.label :best_season_to_visit %>
   <%= f.text_field :best_season_to_visit, class: "form-control" %>
  </div>

  <div>
  <h4>Select Existing Category:</h4>
    <%= f.collection_check_boxes :category_ids, Category.all, :id, :title %>

    <input type="button" class="check" value="uncheck all"></input>
    <script type="text/javascript">
      $(document).ready(function () {
        $('.check:button').toggle(function () {
          $('input:checkbox').attr('checked', 'checked');
          $(this).val('uncheck all')
        }, function () {
          $('input:checkbox').removeAttr('checked');
          $(this).val('check all');
        })
      })
    </script>
  </div>

  <h4>And/or create a new one:</h4>
  <%= f.fields_for :categories, destination.categories.build do |c| %>
    <div class="form-check">
      <%= c.label :title %>
      <%= c.text_field :title, class: "form-control" %>
    </div>

    <div class="form-check">
      <%= c.label :climate %>
      <%= c.text_field :climate, class: "form-control" %>
    </div>

    <div class="form-check">
      <%= c.label :must_have_items %>
      <%= c.text_field :must_have_items, class: "form-control" %>
    </div>
  <% end %>


<% if params[:action] == "edit" %>
  <%= f.submit "Edit Recipe" %>
<% else %>
  <%= f.submit class: 'btn btn-primary' %></br>
<% end %>

<%= link_to "Back", destinations_path %>

<% end %>
